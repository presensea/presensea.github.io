<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Metadata from Next.js example -->
    <title>PRESENSEA Project - Underwater Sea Monitoring</title>
    <meta name="description" content="PRESENSEA (PREssure SENsor SEA monitoring) is an innovative project focused on underwater sea monitoring using pressure sensors to separate diverse sources. Funded by Mobilitas Pluss (Estonian Research Council) and the European Regional Development Fund.">
    <meta name="keywords" content="PRESENSEA, underwater monitoring, pressure sensor, sea monitoring, oceanography, signal processing, source separation, Mobilitas Pluss, MOBJD1073, Estonian Research Council, TalTech, Elizaveta Dubrovinskaya, Maarja Kruusmaa">
    <meta name="author" content="PRESENSEA Project Team">
    <!-- Favicon (place favicon.ico in your project's root or /public folder) -->
    <link rel="icon" href="/favicon.ico"> <!-- Adjust path if needed when deploying -->

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        /* Custom global styles (mimicking globals.css) */
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gray-50 text-gray-800; /* Tailwind classes for base styling */
        }

        /* Additional styles for language spans if needed, or general styling */
        .en, .ru, .ee {
            /* display property will be controlled by JavaScript */
        }
        /* Ensure spans that should be block have display:block in JS or via specific classes */

        /* Styling for active navigation link (if JS adds this class) */
        nav a.active-nav {
            @apply text-blue-600; /* Example active style */
        }

        /* Prose styles for specific sections (if needed beyond Tailwind's prose class) */
        .prose {
             @apply max-w-none; /* Override default max-width for prose if it's too restrictive */
        }
        .prose h3 {
            @apply mb-2 text-xl font-semibold text-gray-900;
        }
        .prose h4 { /* Added for blog section subheadings if any */
            @apply mt-4 mb-2 text-lg font-semibold text-gray-800;
        }
        .prose p {
            @apply mb-4 text-gray-700;
        }
        .prose ul {
            @apply list-disc list-inside space-y-1 mb-4 text-gray-700;
        }
        .prose a {
            @apply text-blue-600 hover:underline;
        }
        .blog-snippet-link { /* Specific class for the "Read Full Post" link */
             @apply inline-block mt-4 font-semibold text-blue-600 hover:text-blue-700 transition-colors;
        }

        /* Ensure SVG illustrations are responsive and centered */
        .illustration-svg {
            @apply w-full h-auto rounded-lg shadow-lg;
            max-height: 350px; /* Adjusted max height */
            display: block; /* Ensure it behaves like a block for centering */
            margin-left: auto;
            margin-right: auto;
        }
        .avatar-svg {
            @apply w-24 h-24 sm:w-32 sm:h-32 rounded-full mb-4 sm:mb-0 sm:mr-6 flex-shrink-0 object-cover bg-gray-200 p-1; /* Adjusted padding */
        }
         .blog-illustration-svg {
            @apply w-full h-auto rounded-md mb-6;
            max-height: 250px; /* Adjusted max height */
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .logo-svg {
            @apply h-8 w-auto; /* Adjust size as needed */
        }


        /* Initial hide for non-active languages */
        .ru, .ee {
            display: none;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navbar Section -->
    <nav id="navbar" class="sticky top-0 z-50 w-full bg-white/80 backdrop-blur-md shadow-sm transition-all duration-300">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <!-- Logo / Project Name -->
          <div class="flex-shrink-0">
            <a href="#" class="text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors">
                <!-- Minimalistic SVG Logo -->
                <svg class="logo-svg inline-block" viewBox="0 0 150 30" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-label="PRESENSEA Logo">
                    <text x="0" y="22" font-family="Inter, sans-serif" font-size="20" font-weight="bold">PRESEN</text>
                    <path d="M100 10 Q 105 5, 110 10 T 120 10 T 130 10" stroke="currentColor" stroke-width="2" fill="none"/>
                    <path d="M100 15 Q 105 10, 110 15 T 120 15 T 130 15" stroke="currentColor" stroke-width="2" fill="none" opacity="0.7"/>
                    <text x="118" y="22" font-family="Inter, sans-serif" font-size="20" font-weight="bold">EA</text>
                </svg>
            </a>
          </div>

          <!-- Desktop Navigation Links & Language Switcher -->
          <div class="hidden md:flex items-center">
            <div class="flex items-center space-x-1 lg:space-x-4"> <!-- Adjusted space-x for tighter nav links -->
                <a href="#welcome" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">Welcome</span>
                    <span class="ru">Главная</span>
                    <span class="ee">Avaleht</span>
                </a>
                <a href="#challenge" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">The Challenge</span>
                    <span class="ru">Вызов</span>
                    <span class="ee">Väljakutse</span>
                </a>
                <a href="#approach" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">Our Approach</span>
                    <span class="ru">Наш подход</span>
                    <span class="ee">Meie lähenemine</span>
                </a>
                <a href="#team" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">The Team</span>
                    <span class="ru">Команда</span>
                    <span class="ee">Meeskond</span>
                </a>
                <a href="#updates" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">Updates</span>
                    <span class="ru">Новости</span>
                    <span class="ee">Uudised</span>
                </a>
                <a href="#blog-section" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">Blog</span>
                    <span class="ru">Блог</span>
                    <span class="ee">Blogi</span>
                </a>
                <a href="#contact" class="nav-link font-medium text-gray-600 hover:text-blue-600 transition-colors px-3 py-2 rounded-md text-sm">
                    <span class="en">Contact</span>
                    <span class="ru">Контакты</span>
                    <span class="ee">Kontakt</span>
                </a>
            </div>
            <!-- Language Switcher -->
            <div class="lang-switcher ml-6 flex items-center"> <!-- Added ml-6 for spacing -->
              <button onclick="switchLanguage('en')" class="active-lang text-sm font-medium px-3 py-1 rounded-md bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors">EN</button>
              <button onclick="switchLanguage('ru')" class="text-sm font-medium px-3 py-1 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors ml-1">RU</button>
              <button onclick="switchLanguage('ee')" class="text-sm font-medium px-3 py-1 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors ml-1">EE</button>
            </div>
          </div>


          <!-- Mobile Menu Button -->
          <div class="md:hidden flex items-center">
            <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-expanded="false">
              <span class="sr-only">Open main menu</span>
              <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <!-- Mobile menu, show/hide based on menu state -->
      <div id="mobile-menu" class="hidden md:hidden">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="#welcome" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">Welcome</span> <span class="ru">Главная</span> <span class="ee">Avaleht</span>
            </a>
            <a href="#challenge" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">The Challenge</span> <span class="ru">Вызов</span> <span class="ee">Väljakutse</span>
            </a>
            <a href="#approach" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">Our Approach</span> <span class="ru">Наш подход</span> <span class="ee">Meie lähenemine</span>
            </a>
            <a href="#team" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">The Team</span> <span class="ru">Команда</span> <span class="ee">Meeskond</span>
            </a>
            <a href="#updates" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">Updates</span> <span class="ru">Новости</span> <span class="ee">Uudised</span>
            </a>
            <a href="#blog-section" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">Blog</span> <span class="ru">Блог</span> <span class="ee">Blogi</span>
            </a>
            <a href="#contact" class="nav-link-mobile text-gray-700 hover:bg-blue-50 hover:text-blue-700 block px-3 py-2 rounded-md text-base font-medium transition-colors">
                <span class="en">Contact</span> <span class="ru">Контакты</span> <span class="ee">Kontakt</span>
            </a>
             <!-- Language Switcher for Mobile -->
            <div class="lang-switcher-mobile px-3 pt-3 flex justify-around border-t border-gray-200 mt-2">
                <button onclick="switchLanguage('en'); closeMobileMenu();" class="active-lang w-1/3 text-sm font-medium py-2 rounded-md bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors">EN</button>
                <button onclick="switchLanguage('ru'); closeMobileMenu();" class="w-1/3 text-sm font-medium py-2 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">RU</button>
                <button onclick="switchLanguage('ee'); closeMobileMenu();" class="w-1/3 text-sm font-medium py-2 rounded-md text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">EE</button>
            </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow">
        <!-- Hero Section -->
        <section id="welcome" class="relative bg-gradient-to-b from-blue-50 via-white to-white pt-24 pb-16 md:pt-32 md:pb-24 min-h-[70vh] flex items-center">
          <div class="absolute inset-0 opacity-5">
            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <pattern id="wavePattern" patternUnits="userSpaceOnUse" width="100" height="100" viewBox="0 0 50 50">
                  <path d="M0 25 C 12.5 12.5, 37.5 12.5, 50 25 C 62.5 37.5, 87.5 37.5, 100 25 L100 50 L0 50 Z" fill="rgba(0,102,153,0.1)"></path>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#wavePattern)"></rect>
            </svg>
          </div>
          <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight text-gray-900">
              <span class="block">
                <span class="en">Welcome to</span>
                <span class="ru">Добро пожаловать в</span>
                <span class="ee">Tere tulemast</span>
              </span>
              <span class="block text-blue-600 mt-2">PRESENSEA</span>
            </h1>
            <p class="mt-6 max-w-lg mx-auto text-lg sm:text-xl text-gray-600 md:max-w-2xl">
              <span class="en">PREssure SENsor based SEA monitoring: An innovative project aiming to revolutionize how we understand and monitor our underwater world.</span>
              <span class="ru">Мониторинг моря на основе датчиков давления: инновационный проект, направленный на революционизацию нашего понимания и мониторинга подводного мира.</span>
              <span class="ee">Rõhuanduritel põhinev mereseire: uuenduslik projekt, mille eesmärk on muuta meie arusaama veealusest maailmast ja selle seirest.</span>
            </p>
            <div class="mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center space-y-4 sm:space-y-0 sm:space-x-4">
              <a href="#challenge" class="w-full sm:w-auto inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors transform hover:scale-105">
                <span class="en">Learn More</span>
                <span class="ru">Узнать больше</span>
                <span class="ee">Loe rohkem</span>
              </a>
              <a href="#contact" class="w-full sm:w-auto inline-flex items-center justify-center px-8 py-3 border border-blue-300 text-base font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors transform hover:scale-105">
                <span class="en">Get in Touch</span>
                <span class="ru">Связаться</span>
                <span class="ee">Võta ühendust</span>
              </a>
            </div>
            <p class="mt-8 text-sm text-gray-500">
              <span class="en">This study is supported by the Mobilitas Pluss grant MOBJD1073 (Estonian Research Council) and by the European Union through the European Regional Development Fund.</span>
              <span class="ru">Это исследование поддерживается грантом Mobilitas Pluss MOBJD1073 (Эстонский научный совет) и Европейским Союзом через Европейский фонд регионального развития.</span>
              <span class="ee">Seda uuringut toetavad Mobilitas Pluss grant MOBJD1073 (Eesti Teadusagentuur) ja Euroopa Liit Euroopa Regionaalarengu Fondi kaudu.</span>
            </p>
          </div>
        </section>

        <!-- Challenge Section -->
        <section id="challenge" class="py-16 md:py-24 bg-white">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
              <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                <span class="en">The Challenge: Listening to Our Oceans</span>
                <span class="ru">Вызов: Слушая наши океаны</span>
                <span class="ee">Väljakutse: Meie ookeanide kuulamine</span>
              </h2>
              <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">
                <span class="en">Our planet's oceans are vast and vital, yet monitoring the underwater environment remains a significant hurdle.</span>
                <span class="ru">Океаны нашей планеты огромны и жизненно важны, однако мониторинг подводной среды остается серьезным препятствием.</span>
                <span class="ee">Meie planeedi ookeanid on tohutud ja elutähtsad, kuid veealuse keskkonna seire on endiselt märkimisväärne takistus.</span>
              </p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 items-center">
              <div>
                <!-- SVG for Underwater Pressure Sources (Ship instead of Submarine) -->
                <svg viewBox="0 0 200 150" xmlns="http://www.w3.org/2000/svg" class="illustration-svg" aria-label="Conceptual illustration of underwater pressure sources with a ship">
                  <defs>
                    <linearGradient id="waterGradientChallenge" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" style="stop-color:#A8D8EA;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#3B82F6;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <rect width="200" height="150" fill="url(#waterGradientChallenge)" rx="8" ry="8"/>
                  <!-- Waves -->
                  <path d="M 0 50 Q 25 40, 50 50 T 100 50 T 150 50 T 200 50" stroke="#FFFFFF" stroke-width="2" fill="none" opacity="0.7"/>
                  <path d="M 0 55 Q 30 45, 60 55 T 120 55 T 180 55 L 200 55" stroke="#FFFFFF" stroke-width="1.5" fill="none" opacity="0.5"/>
                  <!-- Ship Silhouette (Updated) -->
                  <path d="M 50 45 L 55 30 L 145 30 L 150 45 L 140 50 L 60 50 Z" fill="#4A5568" /> <!-- Hull -->
                  <rect x="80" y="20" width="15" height="10" fill="#4A5568" /> <!-- Cabin -->
                  <rect x="110" y="25" width="10" height="5" fill="#4A5568" /> <!-- Funnel -->

                  <!-- Pressure signals (dots/circles) -->
                  <circle cx="40" cy="100" r="3" fill="#FFFFFF" opacity="0.6"/>
                  <circle cx="55" cy="115" r="2" fill="#FFFFFF" opacity="0.5"/>
                  <circle cx="80" cy="90" r="4" fill="#FFFFFF" opacity="0.7"/>
                  <circle cx="120" cy="120" r="3" fill="#FFFFFF" opacity="0.6"/>
                  <circle cx="150" cy="95" r="2.5" fill="#FFFFFF" opacity="0.5"/>
                  <circle cx="170" cy="110" r="3" fill="#FFFFFF" opacity="0.7"/>
                   <!-- Fish Silhouette (simple) -->
                  <path d="M30 70 Q 40 65, 50 70 Q 40 75, 30 70 Z M48 70 L 55 68 L 55 72 Z" fill="#FFFFFF" opacity="0.4" />
                  <path d="M160 80 Q 170 75, 180 80 Q 170 85, 160 80 Z M178 80 L 185 78 L 185 82 Z" fill="#FFFFFF" opacity="0.3" />
                </svg>
                <p class="text-sm text-center mt-2 text-gray-500">
                    <span class="en">Fig. 1: Conceptual illustration of underwater pressure sources.</span>
                    <span class="ru">Рис. 1: Концептуальная иллюстрация источников подводного давления.</span>
                    <span class="ee">Joonis 1: Veealuste rõhuallikate kontseptuaalne illustratsioon.</span>
                </p>
              </div>
              <div class="prose prose-lg text-gray-700">
                <p>
                  <span class="en">Any movement in fluid creates a pressure change. These changes can originate from natural phenomena like waves and currents, or from human activities such as shipping and wastewater release.</span>
                  <span class="ru">Любое движение в жидкости создает изменение давления. Эти изменения могут исходить от природных явлений, таких как волны и течения, или от деятельности человека, такой как судоходство и сброс сточных вод.</span>
                  <span class="ee">Igasugune liikumine vedelikus tekitab rõhumuutuse. Need muutused võivad tuleneda loodusnähtustest nagu lained ja hoovused või inimtegevusest nagu laevandus ja reovee heide.</span>
                </p>
                <p>
                  <span class="en">The core difficulty lies in the "cocktail party problem": distinguishing faint but important signals (e.g., distant vessels, subtle environmental shifts) amidst a cacophony of stronger, overlapping pressure sources.</span>
                  <span class="ru">Основная трудность заключается в "проблеме коктейльной вечеринки": различении слабых, но важных сигналов (например, удаленных судов, незначительных изменений окружающей среды) среди какофонии более сильных, перекрывающихся источников давления.</span>
                  <span class="ee">Põhiraskus seisneb "kokteilipeo probleemis": eristada nõrku, kuid olulisi signaale (nt kauged laevad, peened keskkonnamuutused) tugevamate, kattuvate rõhuallikate kakofoonia keskel.</span>
                </p>
                <p>
                  <span class="en">PRESENSEA aims to tackle this by developing advanced methods to separate these diverse underwater pressure signals using innovative sensor arrays.</span>
                  <span class="ru">PRESENSEA стремится решить эту проблему путем разработки передовых методов разделения этих разнообразных подводных сигналов давления с использованием инновационных сенсорных решеток.</span>
                  <span class="ee">PRESENSEA eesmärk on sellega tegeleda, arendades täiustatud meetodeid nende mitmekesiste veealuste rõhusignaalide eraldamiseks uuenduslike andurimassiivide abil.</span>
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Approach Section -->
        <section id="approach" class="py-16 md:py-24 bg-gray-50">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
              <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                <span class="en">Our Innovative Approach</span>
                <span class="ru">Наш инновационный подход</span>
                <span class="ee">Meie uuenduslik lähenemine</span>
              </h2>
              <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">
                <span class="en">PRESENSEA employs an interdisciplinary strategy, combining physics, environmental science, and cutting-edge engineering.</span>
                <span class="ru">PRESENSEA использует междисциплинарную стратегию, сочетая физику, науки об окружающей среде и передовую инженерию.</span>
                <span class="ee">PRESENSEA kasutab interdistsiplinaarset strateegiat, ühendades füüsika, keskkonnateadused ja tipptasemel inseneriteadused.</span>
              </p>
            </div>

            <div class="mb-12 text-center prose prose-lg mx-auto text-gray-700">
                <p>
                    <span class="en">The major scientific advancement of this work is to apply methods for source separation to large-scale underwater pressure sensor arrays. We are leveraging passive, non-invasive, and energy-efficient pressure sensors.</span>
                    <span class="ru">Основным научным достижением этой работы является применение методов разделения источников к крупномасштабным подводным решеткам датчиков давления. Мы используем пассивные, неинвазивные и энергоэффективные датчики давления.</span>
                    <span class="ee">Selle töö peamine teaduslik edusamm on allikate eraldamise meetodite rakendamine suuremahulistele veealustele rõhuandurite massiividele. Kasutame passiivseid, mitteinvasiivseid ja energiatõhusaid rõhuandureid.</span>
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              <!-- Dataset Collection -->
              <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center justify-center w-12 h-12 rounded-md bg-blue-500 text-white text-2xl mb-4">📊</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    <span class="en">Dataset Collection (WP1)</span>
                    <span class="ru">Сбор данных (WP1)</span>
                    <span class="ee">Andmekogumine (WP1)</span>
                </h3>
                <p class="text-gray-600 text-sm">
                    <span class="en">Collecting comprehensive pressure sensor data in diverse underwater scenarios and locations.</span>
                    <span class="ru">Сбор всесторонних данных с датчиков давления в различных подводных сценариях и местах.</span>
                    <span class="ee">Põhjalike rõhuanduriandmete kogumine erinevates veealustes stsenaariumides ja asukohtades.</span>
                </p>
              </div>
              <!-- Modeling & Simulation -->
              <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center justify-center w-12 h-12 rounded-md bg-blue-500 text-white text-2xl mb-4">💻</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    <span class="en">Modeling & Simulation (WP2)</span>
                    <span class="ru">Моделирование (WP2)</span>
                    <span class="ee">Modelleerimine ja simulatsioon (WP2)</span>
                </h3>
                <p class="text-gray-600 text-sm">
                    <span class="en">Developing realistic models of hydrodynamic data based on physical principles and experimental findings.</span>
                    <span class="ru">Разработка реалистичных моделей гидродинамических данных на основе физических принципов и экспериментальных результатов.</span>
                    <span class="ee">Reaalsete hüdrodünaamiliste andmete mudelite arendamine füüsikaliste põhimõtete ja katsetulemuste põhjal.</span>
                </p>
              </div>
              <!-- Algorithm Development -->
              <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center justify-center w-12 h-12 rounded-md bg-blue-500 text-white text-2xl mb-4">💡</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    <span class="en">Algorithm Development (WP3)</span>
                    <span class="ru">Разработка алгоритмов (WP3)</span>
                    <span class="ee">Algoritmiarendus (WP3)</span>
                </h3>
                <p class="text-gray-600 text-sm">
                    <span class="en">Designing a library of algorithms for real-time source separation, detection, and localization on low-cost platforms.</span>
                    <span class="ru">Проектирование библиотеки алгоритмов для разделения, обнаружения и локализации источников в реальном времени на недорогих платформах.</span>
                    <span class="ee">Algoritmide kogu kavandamine reaalajas allikate eraldamiseks, tuvastamiseks ja lokaliseerimiseks odavatel platvormidel.</span>
                </p>
              </div>
              <!-- Validation & Demonstration -->
              <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center justify-center w-12 h-12 rounded-md bg-blue-500 text-white text-2xl mb-4">✅</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    <span class="en">Validation & Demonstration (WP4)</span>
                    <span class="ru">Валидация (WP4)</span>
                    <span class="ee">Valideerimine ja demonstreerimine (WP4)</span>
                </h3>
                <p class="text-gray-600 text-sm">
                    <span class="en">Verifying algorithm performance through real-world deployments in at least two different scenarios.</span>
                    <span class="ru">Проверка производительности алгоритмов посредством реальных развертываний как минимум в двух различных сценариях.</span>
                    <span class="ee">Algoritmide jõudluse kontrollimine reaalsetes rakendustes vähemalt kahes erinevas stsenaariumis.</span>
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Team Section -->
        <section id="team" class="py-16 md:py-24 bg-white">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
              <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                <span class="en">Meet the Team</span>
                <span class="ru">Наша команда</span>
                <span class="ee">Tutvu meeskonnaga</span>
              </h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
              <!-- Team Member 1 -->
              <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left">
                <!-- SVG Avatar for Dr. Elizaveta Dubrovinskaya -->
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="avatar-svg" aria-label="Avatar for Dr. Elizaveta Dubrovinskaya">
                  <circle cx="50" cy="50" r="45" fill="#E0E7FF"/> <!-- Light indigo -->
                  <path d="M50 30 A 15 15 0 0 1 50 60 A 15 15 0 0 1 50 30 Z M 35 70 Q 50 60 65 70 L 60 85 L 40 85 Z" fill="#C7D2FE"/> <!-- Indigo lighter -->
                  <circle cx="43" cy="43" r="3" fill="#4338CA"/> <circle cx="57" cy="43" r="3" fill="#4338CA"/> <!-- Eyes -->
                  <path d="M45 50 Q50 53 55 50" stroke="#4338CA" stroke-width="1.5" fill="none"/> <!-- Smile -->
                  <text x="50" y="93" font-family="Inter, sans-serif" font-size="10" fill="#4338CA" text-anchor="middle">ED</text>
                </svg>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900">Dr. Elizaveta Dubrovinskaya</h3>
                  <p class="text-blue-600 font-medium mb-2">
                      <span class="en">Researcher</span>
                      <span class="ru">Исследователь</span>
                      <span class="ee">Teadur</span>
                  </p>
                  <p class="text-gray-600 text-sm">
                    <span class="en">Expertise in acoustic pressure signal processing, underwater localization, and algorithm design. Leading the research and development for PRESENSEA.</span>
                    <span class="ru">Специалист в области обработки акустических сигналов давления, подводной локализации и разработки алгоритмов. Руководит исследованиями и разработками в PRESENSEA.</span>
                    <span class="ee">Ekspert akustiliste rõhusignaalide töötlemise, veealuse lokaliseerimise ja algoritmide disaini alal. Juhib PRESENSEA teadus- ja arendustegevust.</span>
                  </p>
                </div>
              </div>
              <!-- Team Member 2 -->
              <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left">
                <!-- SVG Avatar for Prof. Maarja Kruusmaa -->
                 <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="avatar-svg" aria-label="Avatar for Prof. Maarja Kruusmaa">
                  <circle cx="50" cy="50" r="45" fill="#E0F2FE"/> <!-- Light sky -->
                  <path d="M50 30 A 16 16 0 0 1 50 62 A 16 16 0 0 1 50 30 Z M 33 72 Q 50 62 67 72 L 62 87 L 38 87 Z" fill="#BAE6FD"/> <!-- Sky lighter -->
                  <circle cx="42" cy="44" r="3" fill="#0EA5E9"/> <circle cx="58" cy="44" r="3" fill="#0EA5E9"/> <!-- Eyes -->
                  <path d="M44 52 Q50 55 56 52" stroke="#0EA5E9" stroke-width="1.5" fill="none"/> <!-- Smile -->
                  <text x="50" y="93" font-family="Inter, sans-serif" font-size="10" fill="#0EA5E9" text-anchor="middle">MK</text>
                </svg>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900">Prof. Maarja Kruusmaa</h3>
                  <p class="text-blue-600 font-medium mb-2">
                      <span class="en">Project Supervisor</span>
                      <span class="ru">Руководитель проекта</span>
                      <span class="ee">Projekti juhendaja</span>
                  </p>
                  <p class="text-gray-600 text-sm">
                    <span class="en">Vice-Rector of Research at Tallinn University of Technology (TalTech) and Head of the Centre for Biorobotics. Extensive experience in marine robotics, sensor systems, and leading international research projects.</span>
                    <span class="ru">Проректор по научной работе Таллиннского технического университета (TalTech) и руководитель Центра биоробототехники. Обширный опыт в области морской робототехники, сенсорных систем и руководства международными исследовательскими проектами.</span>
                    <span class="ee">Tallinna Tehnikaülikooli (TalTech) teadusprorektor ja biorobootika keskuse juhataja. Ulatuslik kogemus mererobootika, sensorisüsteemide ja rahvusvaheliste uurimisprojektide juhtimise alal.</span>
                  </p>
                </div>
              </div>
            </div>
            <div class="mt-10 text-center">
                <p class="text-lg text-gray-700">
                    <span class="en">Hosted at <a href="https://taltech.ee/en" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Tallinn University of Technology (TalTech)</a>, within the <a href="https://www.taltech.ee/en/centre-for-biorobotics" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Centre for Biorobotics</a>.</span>
                    <span class="ru">Проект базируется в <a href="https://taltech.ee/ru" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Таллиннском техническом университете (TalTech)</a>, в <a href="https://www.taltech.ee/ru/keskused-ja-laborid/biorobootika-keskus" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Центре биоробототехники</a>.</span>
                    <span class="ee">Projekt asub <a href="https://taltech.ee/tule-oppima" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Tallinna Tehnikaülikoolis (TalTech)</a>, <a href="https://www.taltech.ee/biorobootika-keskus" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-medium">Biorobootika keskuses</a>.</span>
                </p>
            </div>
          </div>
        </section>

        <!-- Updates Section -->
        <section id="updates" class="py-16 md:py-24 bg-blue-50">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
              <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                <span class="en">Project Journey & Updates</span>
                <span class="ru">Ход проекта и новости</span>
                <span class="ee">Projekti teekond ja uudised</span>
              </h2>
              <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">
                <span class="en">Follow the progress of PRESENSEA as we embark on this exciting research endeavor.</span>
                <span class="ru">Следите за ходом PRESENSEA в этом увлекательном исследовательском начинании.</span>
                <span class="ee">Jälgi PRESENSEA edenemist sellel põneval uurimisretkel.</span>
              </p>
            </div>
            <div class="bg-white p-8 rounded-lg shadow-lg max-w-3xl mx-auto prose">
              <h3>
                  <span class="en">Project Launched!</span>
                  <span class="ru">Проект запущен!</span>
                  <span class="ee">Projekt on alanud!</span>
              </h3>
              <p>
                <span class="en">PRESENSEA officially commenced in <strong>June 2025</strong>. (Note: This is a placeholder date based on current information).</span>
                <span class="ru">PRESENSEA официально стартовал в <strong>июне 2025 года</strong>. (Примечание: Это предварительная дата, основанная на текущей информации).</span>
                <span class="ee">PRESENSEA algas ametlikult <strong>juunis 2025</strong>. (Märkus: See on hetketeabel põhinev ajutine kuupäev).</span>
              </p>
              <p>
                <span class="en">We are currently in the initial phase, focusing on setting up the experimental framework, adjusting the sensor array, and planning for initial data collection (WP1 Tasks T1.1 & T1.2).</span>
                <span class="ru">В настоящее время мы находимся на начальном этапе, сосредотачиваясь на создании экспериментальной базы, настройке сенсорной решетки и планировании первоначального сбора данных (WP1 Задачи T1.1 и T1.2).</span>
                <span class="ee">Oleme praegu algfaasis, keskendudes katseraamistiku ülesseadmisele, andurimassiivi kohandamisele ja esialgse andmekogumise kavandamisele (WP1 ülesanded T1.1 ja T1.2).</span>
              </p>
              <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-3">
                  <span class="en">What's Next?</span>
                  <span class="ru">Что дальше?</span>
                  <span class="ee">Mis edasi?</span>
              </h4>
              <ul>
                <li>
                    <span class="en">Initial data collection campaigns.</span>
                    <span class="ru">Первоначальные кампании по сбору данных.</span>
                    <span class="ee">Esialgsed andmekogumiskampaaniad.</span>
                </li>
                <li>
                    <span class="en">Development of preliminary hydrodynamic models.</span>
                    <span class="ru">Разработка предварительных гидродинамических моделей.</span>
                    <span class="ee">Esialgsete hüdrodünaamiliste mudelite arendamine.</span>
                </li>
                <li>
                    <span class="en">Literature review and refinement of algorithm strategies.</span>
                    <span class="ru">Обзор литературы и уточнение стратегий алгоритмов.</span>
                    <span class="ee">Kirjanduse ülevaade ja algoritmi strateegiate täiustamine.</span>
                </li>
              </ul>
              <p class="mt-6">
                <span class="en">Stay tuned! We plan to share regular updates, publications, and datasets as the project progresses. Updates are planned every three months.</span>
                <span class="ru">Оставайтесь с нами! Мы планируем регулярно делиться обновлениями, публикациями и наборами данных по мере продвижения проекта. Обновления планируются каждые три месяца.</span>
                <span class="ee">Püsige lainel! Plaanime projekti edenedes regulaarselt jagada uuendusi, publikatsioone ja andmekogumeid. Uuendused on kavandatud iga kolme kuu tagant.</span>
              </p>
            </div>
          </div>
        </section>

        <!-- Blog Section -->
        <section id="blog-section" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                        <span class="en">Latest from the Blog</span>
                        <span class="ru">Последнее из блога</span>
                        <span class="ee">Uusimad postitused blogist</span>
                    </h2>
                    <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-600">
                        <span class="en">Dive into our thoughts, findings, and stories from the PRESENSEA project.</span>
                        <span class="ru">Погрузитесь в наши мысли, открытия и истории из проекта PRESENSEA.</span>
                        <span class="ee">Sukelduge meie mõtetesse, leidudesse ja lugudesse PRESENSEA projektist.</span>
                    </p>
                </div>
                <div class="bg-gray-50 p-8 rounded-lg shadow-lg max-w-3xl mx-auto prose">
                    <!-- SVG for Blog Post Illustration: Baltic Sea, cocktail, and smart sensor -->
                    <svg viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg" class="blog-illustration-svg" aria-label="Baltic Sea Cocktail Party Blog Illustration">
                        <rect width="200" height="120" rx="8" ry="8" fill="#EFF6FF"/> <!-- Light blue background -->
                        <!-- Simplified Baltic Sea Outline -->
                        <path d="M60 20 Q 40 30, 35 50 T 45 70 Q 50 90, 70 100 L 90 95 Q 100 70, 90 50 Q 85 30, 60 20 Z M 75 40 Q 70 50, 75 60 Q 90 55, 85 45 Z" fill="#A8D8EA" stroke="#3B82F6" stroke-width="1.5" opacity="0.8"/>
                        <!-- Cocktail Glass -->
                        <path d="M130 35 L 170 35 L 150 65 Z" fill="#FBBF24" opacity="0.7"/> <!-- Cocktail liquid - amber -->
                        <line x1="150" y1="65" x2="150" y2="85" stroke="#4A5568" stroke-width="2"/> <!-- Stem -->
                        <line x1="135" y1="85" x2="165" y2="85" stroke="#4A5568" stroke-width="2"/> <!-- Base -->
                        <!-- Smart Sensor Icon -->
                        <rect x="142" y="25" width="16" height="8" rx="2" fill="#3B82F6"/>
                        <circle cx="150" cy="29" r="1.5" fill="#FFFFFF"/>
                        <line x1="140" y1="20" x2="145" y2="25" stroke="#3B82F6" stroke-width="1"/>
                        <line x1="160" y1="20" x2="155" y2="25" stroke="#3B82F6" stroke-width="1"/>
                    </svg>
                    <h3>
                        <span class="en">The Baltic Cocktail Party: Stirred by science, served with smarts</span>
                        <span class="ru">Балтийская коктейльная вечеринка: смешано наукой, подано с умом</span>
                        <span class="ee">Läänemere kokteilipidu: teaduse poolt segatud, nutikalt serveeritud</span>
                    </h3>
                    <p class="text-sm text-gray-500">
                        <span class="en">Published: June 5, 2025</span>
                        <span class="ru">Опубликовано: 5 июня 2025 г.</span>
                        <span class="ee">Avaldatud: 5. juuni 2025</span>
                    </p>
                    <p>
                        <span class="en">Welcome to the Baltic Cocktail Party — where the guests are often invisible, and the real conversations happen under pressure. This isn’t your average party. Picture an underwater world buzzing with activity: ships passing overhead like party guests, currents swirling like shaken drinks, and hidden signals mixing together like overlapping voices in a crowded room...</span>
                        <span class="ru">Добро пожаловать на Балтийскую коктейльную вечеринку — где гости часто невидимы, а настоящие разговоры происходят под давлением. Это не обычная вечеринка. Представьте себе подводный мир, полный активности: корабли, проходящие над головой, как гости на вечеринке, течения, кружащиеся, как взболтанные напитки, и скрытые сигналы, смешивающиеся, как перекрывающиеся голоса в переполненной комнате...</span>
                        <span class="ee">Tere tulemast Läänemere kokteilipeole – kus külalised on sageli nähtamatud ja tõelised vestlused toimuvad rõhu all. See ei ole teie tavaline pidu. Kujutage ette veealust maailma, mis kihab tegevusest: laevad mööduvad pea kohal nagu peokülalised, hoovused keerlevad nagu loksutatud joogid ja varjatud signaalid segunevad nagu kattuvad hääled rahvarohkes ruumis...</span>
                    </p>
                    <a href="blog-post-1.html" class="blog-snippet-link" target="_blank" rel="noopener noreferrer">
                        <span class="en">Read Full Post &raquo;</span>
                        <span class="ru">Читать полностью &raquo;</span>
                        <span class="ee">Loe täispikka postitust &raquo;</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16 md:py-24 bg-gray-50">
          <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-lg mx-auto text-center">
              <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight">
                <span class="en">Get in Touch</span>
                <span class="ru">Свяжитесь с нами</span>
                <span class="ee">Võta ühendust</span>
              </h2>
              <p class="mt-4 text-lg text-gray-600">
                <span class="en">We are committed to open science and welcome inquiries about the PRESENSEA project.</span>
                <span class="ru">Мы привержены принципам открытой науки и приветствуем запросы о проекте PRESENSEA.</span>
                <span class="ee">Oleme pühendunud avatud teadusele ja tervitame PRESENSEA projekti puudutavaid päringuid.</span>
              </p>
              <div class="mt-8">
                <p class="text-gray-700">
                    <span class="en">For project-related inquiries, please contact:</span>
                    <span class="ru">По вопросам, связанным с проектом, обращайтесь:</span>
                    <span class="ee">Projektiga seotud päringute korral võtke ühendust:</span>
                </p>
                <a href="mailto:presensea-contact@taltech.ee" class="mt-1 inline-block text-xl font-medium text-blue-600 hover:text-blue-700 hover:underline">
                  presensea-contact@taltech.ee
                </a>
                 <p class="text-xs text-gray-500 mt-1">
                    <span class="en">(Please replace with actual project email if different)</span>
                    <span class="ru">(Пожалуйста, замените на фактический адрес электронной почты проекта, если он другой)</span>
                    <span class="ee">(Palun asendage tegeliku projekti e-posti aadressiga, kui see on erinev)</span>
                </p>
              </div>
              <div class="mt-6">
                <p class="text-gray-700">
                    <span class="en">PRESENSEA is hosted at Tallinn University of Technology.</span>
                    <span class="ru">PRESENSEA базируется в Таллиннском техническом университете.</span>
                    <span class="ee">PRESENSEA asub Tallinna Tehnikaülikoolis.</span>
                </p>
                <a href="https://taltech.ee/en" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">
                    <span class="en">Visit TalTech</span>
                    <span class="ru">Посетите TalTech</span>
                    <span class="ee">Külasta TalTech-i</span>
                </a>
              </div>
              <div class="mt-8">
                <h3 class="text-lg font-semibold text-gray-800 mb-2">
                    <span class="en">Open Science Commitment</span>
                    <span class="ru">Приверженность открытой науке</span>
                    <span class="ee">Pühendumus avatud teadusele</span>
                </h3>
                <p class="text-sm text-gray-600">
                    <span class="en">We are dedicated to open science principles. Datasets and research outputs generated by PRESENSEA will be made publicly available in due course, following FAIR data principles.</span>
                    <span class="ru">Мы придерживаемся принципов открытой науки. Наборы данных и результаты исследований, полученные в рамках PRESENSEA, будут опубликованы в открытом доступе в установленном порядке в соответствии с принципами FAIR.</span>
                    <span class="ee">Oleme pühendunud avatud teaduse põhimõtetele. PRESENSEA poolt genereeritud andmekogumid ja uurimistulemused tehakse aja jooksul avalikult kättesaadavaks, järgides FAIR-andmete põhimõtteid.</span>
                </p>
              </div>
            </div>
          </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-gray-300">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center">
          <p class="text-sm">
            <span class="en">&copy; <span class="currentYear"></span> PRESENSEA Project. All rights reserved.</span>
            <span class="ru">&copy; <span class="currentYear"></span> Проект PRESENSEA. Все права защищены.</span>
            <span class="ee">&copy; <span class="currentYear"></span> PRESENSEA Projekt. Kõik õigused kaitstud.</span>
          </p>
          <p class="text-xs mt-2">
            <span class="en">This study is supported by the Mobilitas Pluss grant MOBJD1073 (Estonian Research Council) and by the European Union through the European Regional Development Fund.</span>
            <span class="ru">Это исследование поддерживается грантом Mobilitas Pluss MOBJD1073 (Эстонский научный совет) и Европейским Союзом через Европейский фонд регионального развития.</span>
            <span class="ee">Seda uuringut toetavad Mobilitas Pluss grant MOBJD1073 (Eesti Teadusagentuur) ja Euroopa Liit Euroopa Regionaalarengu Fondi kaudu.</span>
          </p>
          <p class="text-xs mt-1">
            <span class="en">Hosted at <a href="https://taltech.ee/en" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 underline">Tallinn University of Technology</a>.</span>
            <span class="ru">Размещено в <a href="https://taltech.ee/ru" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 underline">Таллиннском техническом университете</a>.</span>
            <span class="ee">Projekt asub <a href="https://taltech.ee/tule-oppima" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 underline">Tallinna Tehnikaülikoolis</a>.</span>
          </p>
        </div>
      </div>
    </footer>

    <script>
        // --- Navigation and Mobile Menu ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const navLinksMobile = document.querySelectorAll('.nav-link-mobile');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('hidden');
            });
        }
        
        function closeMobileMenu() {
            if (mobileMenuButton && mobileMenu && !mobileMenu.classList.contains('hidden')) {
                 mobileMenuButton.setAttribute('aria-expanded', 'false');
                 mobileMenu.classList.add('hidden');
            }
        }

        navLinksMobile.forEach(link => {
            link.addEventListener('click', (e) => { // Added event parameter
                const targetId = link.getAttribute('href');
                if (targetId && targetId.startsWith('#')) { // Check if targetId is not null
                    e.preventDefault(); // Prevent default anchor behavior only for hash links
                    smoothScrollToTarget(targetId);
                }
                closeMobileMenu(); 
            });
        });


        // --- Language Switching ---
        function switchLanguage(lang) {
            document.querySelectorAll('.en, .ru, .ee').forEach(el => {
                el.style.display = 'none';
            });

            document.querySelectorAll('.' + lang).forEach(el => {
                let displayStyle = 'inline'; // Default for SPAN, A, STRONG, BUTTON
                if (el.tagName === 'P' || el.tagName === 'H1' || el.tagName === 'H2' || el.tagName === 'H3' || el.tagName === 'H4' || el.tagName === 'LI' || el.tagName === 'DIV' || el.classList.contains('block') || el.classList.contains('w-full')) {
                    displayStyle = 'block';
                }
                if (el.classList.contains('inline-flex')) {
                    displayStyle = 'inline-flex';
                } else if (el.classList.contains('flex')) {
                     displayStyle = 'flex';
                } else if (el.classList.contains('w-1/3') && el.tagName === 'BUTTON') { // For mobile lang buttons
                    displayStyle = 'inline-block';
                }
                // Ensure elements that are direct children of flex/grid containers or explicitly styled as block/inline-block maintain that
                const parentDisplay = window.getComputedStyle(el.parentElement).display;
                if (parentDisplay === 'flex' || parentDisplay === 'grid' && displayStyle === 'inline'){
                    // Check original computed style if it was block-like within a flex/grid context
                    // This part might need refinement based on specific HTML structures if issues persist
                    const originalDisplay = window.getComputedStyle(el).getPropertyValue('display');
                     if(originalDisplay.includes('block') || originalDisplay.includes('flex') || originalDisplay.includes('grid') ){
                         displayStyle = originalDisplay;
                     }
                }
                el.style.display = displayStyle;
            });
            
            const updatesListItems = document.querySelectorAll('#updates ul li');
            updatesListItems.forEach(li => {
                li.querySelectorAll('.en, .ru, .ee').forEach(span => span.style.display = 'none'); 
                const langSpan = li.querySelector('.' + lang);
                if (langSpan) langSpan.style.display = 'inline'; 
            });

            document.querySelectorAll('.lang-switcher button, .lang-switcher-mobile button').forEach(button => {
                button.classList.remove('active-lang', 'bg-blue-100', 'text-blue-700', 'hover:bg-blue-200');
                button.classList.add('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
            });

            const desktopActiveButton = document.querySelector(`.lang-switcher button[onclick="switchLanguage('${lang}')"]`);
            if (desktopActiveButton) {
                desktopActiveButton.classList.add('active-lang', 'bg-blue-100', 'text-blue-700', 'hover:bg-blue-200');
                desktopActiveButton.classList.remove('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
            }
            const mobileActiveButton = document.querySelector(`.lang-switcher-mobile button[onclick*="switchLanguage('${lang}')"]`);
            if (mobileActiveButton) {
                mobileActiveButton.classList.add('active-lang', 'bg-blue-100', 'text-blue-700', 'hover:bg-blue-200');
                mobileActiveButton.classList.remove('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
            }

            document.documentElement.lang = lang;
        }

        // --- Smooth Scrolling & Active Nav Link ---
         function smoothScrollToTarget(targetId) { // Made this a global function
            if (targetId && targetId.startsWith('#')) {
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const navbarHeight = document.getElementById('navbar')?.offsetHeight || 0;
                    const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                    const offsetPosition = elementPosition - navbarHeight;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth'});
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            switchLanguage('en');

            document.querySelectorAll('.currentYear').forEach(span => {
                span.textContent = new Date().getFullYear();
            });

            const navLinksDesktop = document.querySelectorAll('#navbar .hidden.md\\:flex a[href^="#"]');
            
            navLinksDesktop.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    smoothScrollToTarget(link.getAttribute('href'));
                });
            });

            const sections = document.querySelectorAll('main section[id]');
            const navbarHeight = document.getElementById('navbar')?.offsetHeight || 0;

            function changeNavActiveState() {
                let currentSectionId = '';
                let bottomReached = (window.innerHeight + window.pageYOffset) >= document.body.offsetHeight - 20; // 20px buffer

                sections.forEach(section => {
                    const sectionTop = section.offsetTop - navbarHeight - 50; 
                    const sectionBottom = sectionTop + section.offsetHeight;
                    if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionBottom) {
                        currentSectionId = section.getAttribute('id');
                    }
                });
                
                if (bottomReached) { // If at bottom, activate last section's nav item
                    const lastSection = sections[sections.length -1];
                    if (lastSection) currentSectionId = lastSection.getAttribute('id');
                }


                navLinksDesktop.forEach(link => {
                    link.classList.remove('active-nav', 'text-blue-600');
                    link.classList.add('text-gray-600');
                    if (link.getAttribute('href') === `#${currentSectionId}`) {
                        link.classList.add('active-nav', 'text-blue-600');
                        link.classList.remove('text-gray-600');
                    }
                });
                 // If no section is active (e.g., at the very top before the first section)
                if (!currentSectionId && window.pageYOffset < (sections[0]?.offsetTop - navbarHeight - 50)) {
                    navLinksDesktop.forEach(link => {
                        link.classList.remove('active-nav', 'text-blue-600');
                        link.classList.add('text-gray-600');
                    });
                     // Optionally activate #welcome if at top
                    const welcomeLink = document.querySelector('#navbar .hidden.md\\:flex a[href="#welcome"]');
                    if(welcomeLink) {
                        welcomeLink.classList.add('active-nav', 'text-blue-600');
                        welcomeLink.classList.remove('text-gray-600');
                    }
                }
            }
            window.addEventListener('scroll', changeNavActiveState);
            changeNavActiveState(); // Initial check
        });

    </script>
</body>
</html>
